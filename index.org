#+TITLE: confo
#+EMAIL: mail@ssbb.me
#+OPTIONS: creator:comment d:(not LOGBOOK) date:t e:t email:t f:t inline:t
#+DATE: [2015-02-10 Tue]
#+LANGUAGE: en
#+HTML_HEAD: <link href=http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic&subset=cyrillic,latin rel='stylesheet' type='text/css'>
#+HTML_HEAD: <link href='http://fonts.googleapis.com/css?family=PT+Mono&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
#+HTML_HEAD: <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/tomorrow-night-bright.min.css">
#+HTML_HEAD: <link href="http://localhost:8000/docs.css" rel="stylesheet" type="text/css" />
#+HTML_HEAD: <style>table {width: 100%;}</style>
#+HTML_HEAD: <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
#+HTML_HEAD: <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
#+HTML_HEAD: <script src="http://localhost:8000/docs.js"></script>

#+BEGIN_HTML
<a href="https://github.com/evilrobts/confo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
#+END_HTML

* confo - simple config file reader
Managing configs for different environments (based on =NODE_ENV= variable) in =js= or =json= format.

** How to use
- Install it with =npm install confo=
- Create a =confo.json= file in the same folder as the main entry point (usually project root). This file must contain an =NODE_ENV: PATH= JSON object like this:

  #+CAPTION: confo.json
  #+BEGIN_SRC javascript
  {
    "dev": "./config/environments/dev.js",
    "production": "./config/environments/production.js",
    "test": "./config/environments/test.js"
  }
  #+END_SRC
- Create a config file. I prefer to write config files with =JavaScript=. It gives me the opportunity to use the language features like path joining or extending a base config. But you can use =JSON= as well.

  #+CAPTION: config/environments/dev.js
  #+BEGIN_SRC javascript
  var config = require('./base.js');

  config.db.port = 28017;
  config.db.host = '127.0.0.1';

  module.exports = config;
  #+END_SRC

- Just require =confo= and use it:

  #+CAPTION: app.js
  #+BEGIN_SRC javascript
  var confo = require('confo');

  console.log(confo.db.host);
  #+END_SRC

- That's all!
** License
MIT
